<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>社内改善掲示板 | 管理</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="container admin-wrap">
        <div class="admin-hero">
            <div>
                <p class="eyebrow">IT 管理者向け</p>
                <h1>改善事例を管理</h1>
                <p class="lede">投稿と運用分析を一画面で。必要に応じてペイン切り替えできます。</p>
            </div>
            <div class="header-actions">
                <a class="btn primary link-btn" href="dashboard-static.html">一覧を見る</a>
                <div class="status-chip">ローカル保存</div>
            </div>
        </div>

        <div class="tab-bar large">
            <button class="tab-btn big" data-tab="ops">運用・分析</button>
            <button class="tab-btn" data-tab="post">投稿</button>
        </div>

        <div class="admin-layout">
            <aside class="panel slim admin-section" data-tab="ops">
                <div class="panel-header">
                    <div>
                        <p class="eyebrow">運用・分析</p>
                        <h3>ダッシュボード</h3>
                    </div>
                </div>
                <div class="panel-body">
                    <div id="analytics-metrics" class="analytics-grid"></div>
                    <h4 style="margin-top:14px;">記事別 PV</h4>
                    <table class="table">
                        <thead><tr><th>記事</th><th>PV</th><th>推移</th></tr></thead>
                        <tbody id="analytics-cases"></tbody>
                    </table>
                    <h4 style="margin-top:14px;">タグ別 PV / 件数</h4>
                    <table class="table">
                        <thead><tr><th>タグ</th><th>PV</th><th>推移</th></tr></thead>
                        <tbody id="analytics-tags"></tbody>
                    </table>
                    <h4 style="margin-top:14px;">記事別 いいね</h4>
                    <table class="table">
                        <thead><tr><th>記事</th><th>いいね</th></tr></thead>
                        <tbody id="analytics-likes"></tbody>
                    </table>
                </div>
            </aside>

            <div class="panel admin-section hidden" data-tab="post">
                <div class="panel-header">
                    <div>
                        <p class="eyebrow">投稿フォーム</p>
                        <h3>新規事例を追加</h3>
                    </div>
                    <span id="form-status" class="success" aria-live="polite"></span>
                </div>
                <form id="admin-form" class="panel-body">
                    <div class="form-grid">
                        <div>
                            <label for="title">タイトル *</label><br>
                            <input id="title" required placeholder="例）Teams ボットで定型問い合わせを自動化">
                        </div>
                        <div>
                            <label for="owner">担当</label><br>
                            <input id="owner" placeholder="例）IT サービスデスク">
                        </div>
                        <div>
                            <label for="impact">効果</label><br>
                            <input id="impact" placeholder="例）工数 -30%, 応答 10 秒">
                        </div>
                        <div>
                            <label for="date">公開日</label><br>
                            <input id="date" type="date">
                        </div>
                    </div>

                    <div>
                        <label for="summary">概要 *</label><br>
                        <textarea id="summary" rows="2" required placeholder="短い概要を入力"></textarea>
                    </div>
                    <div>
                        <label for="detail">詳細 *</label><br>
                        <textarea id="detail" rows="5" required placeholder="どのような改善か、手順や効果を詳しく入力"></textarea>
                    </div>
                    <div class="form-grid">
                        <div>
                            <label>タグ（複数選択可）</label><br>
                            <div class="tag-chip-row" id="tag-chip-row">
                                <!-- JS でタグ候補を配置 -->
                            </div>
                            <input id="tags-extra" placeholder="自由入力タグ (カンマ区切り、任意)">
                            <p class="helper">選択＋自由入力を合わせてタグ化します。指定が無い場合は「未分類」。</p>
                        </div>
                        <div>
                            <label for="image-file">画像ファイル（任意）</label><br>
                            <input id="image-file" type="file" accept="image/*">
                            <p class="helper">未指定の場合はタイトル入りのプレースホルダ画像を自動生成します。</p>
                        </div>
                    </div>

                    <div class="card-actions" style="margin-top: 6px;">
                        <button type="submit" class="btn primary">投稿を保存</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script src="js/board-admin.js"></script>
</body>
</html>
